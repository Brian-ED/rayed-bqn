⟨
  _join
  Split, Locate
  lf, JoinLines
  Trim
⟩⇐

lf ← @+10
JoinLines ← ∾ ∾⟜lf¨

_join ← {∾1↓⥊(<𝕗)≍˘𝕩 ; ∾𝕨‿𝕗‿𝕩}

# Remove leading (∧`) and trailing (∧`⌾⌽) spaces
Trim ← ((∨` ∧ ∨`⌾⌽) ' '⊸≠)⊸/

MarkSplit ← (2⌊≠∘⊣)◶{𝕤
  ! "Split: 𝕨 can't be empty"
}‿{
  ≍○<⟜¬ (⟨⟩⥊𝕨)=𝕩
}‿{
  c ← (≠𝕨)-1
  i ← 0 (-⟜1⌈c×<)` (≠𝕩)↑𝕨⍷𝕩
  ⟨c=i,1⊸»⊸∧0=i⟩
}

Split ← (0<≠∘⊢)◶⟨
  ≍○<⊢
  (1+`⊢)⊸((1-˜×)∾¯1⊏⊣)´∘MarkSplit⍟(0<≠∘⊢) ⊔ ⊢
⟩

Locate ← ⊑ MarkSplit
