## Metaprogram rayffi.bqn automatically.

# imports
âŸ¨raylibPathâŸ© â† conf â† â€¢Import "loadConfig.bqn"
json â† â€¢Import "imports/bqn-libs/json.bqn"
âŸ¨ToFFIâ‹„ParseHeaderâŸ© â† â€¢Import "imports/c-header-to-bqn-ffi/parse.bqn"

ParseRayFFI â† {ğ•ŠbinPathâ€¿headerPath:
  (â€¢file.Exists binPath)!Ëœ"Library file expected at "âˆ¾binPath
  (â€¢file.Exists headerPath)!Ëœ"Header file expected at "âˆ¾headerPath
  header â† â€¢FChars headerPath
  "../rayffi.bqn" â€¢FChars binPath ToFFI "RLAPI" ParseHeader header
  â€¢Out "rayffi.bqn successfully generated"
}

ParseRayGUI â† {ğ•ŠbinPathâ€¿headerPath:
  (â€¢file.Exists binPath)!Ëœ"Library file expected at "âˆ¾binPath
  (â€¢file.Exists headerPath)!Ëœ"Header file expected at "âˆ¾headerPath
  headerAndCode â† â€¢FChars headerPath
  header â† Â¯91â†“(1âŠËœ"RAYGUI IMPLEMENTATION"âŠ¸â·)âŠ¸â†‘headerAndCode
  "raygui.bqn" â€¢FChars binPath ToFFI "RAYGUIAPI" ParseHeader header
  â€¢Out "raygui.bqn successfully generated"
}

ParseRayFFI â‹ˆâŸœ{"include/raylib.h"âˆ¾Ëœ"lib/"âˆ¾Ëœâ¼ğ•©â†“Ëœ-âŠ‘âŠâŸœ1âŒ½'/'=ğ•©} raylibPath
ParseRayGUIâˆ˜(confâŠ¸â€¢ns.GetÂ¨)âŸ(âˆ§Â´confâŠ¸â€¢ns.HasÂ¨) "rayguilibpath"â€¿"rayguiheaderpath"