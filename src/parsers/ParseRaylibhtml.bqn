## Metaprogram rayffi.bqn automatically.
## INCOMPLETE the current rayffi file is all manually made.

nl â† @+10 # newline
json â† â€¢Import (âˆ¾5â¥Š<"../")âˆ¾"bqn-libs/json.bqn"
#str  â† â€¢Import (âˆ¾6â¥Š<"../")âˆ¾"bqn-libs/Strings.bqn"
Box â†  >âŠ¢Â»Â¨âŸœ<' 'â¥ŠËœÂ·âŒˆÂ´â‰ Â¨
LowerNames â† +âŸœ(32Ã—1="A["âŠ¸â‹)âŒ¾(1â†‘âŠ¢)
_MetaParse â† {âˆ¾Ë˜Â´BoxÂ¨ğ•¨âˆ¾âŸ(âŸ¨âŸ©â‰¢âŠ¢)âš‡1ğ•—{ğ•ğ•©}Â¨Â¨<Ë˜â‰ğ•©}
# fs â† '*'âˆ¾f
# is â† '*'âˆ¾i
MapTypes â† (âŠ£(â€¢ShowâŠ£)âŸ("undef"â‰¡âŠ¢)Â¨âŠâˆ˜âŒ½Ë˜âŠ¸âŠËœâŠ"undef"âˆ¾âŸœ<ËœâŠË˜âˆ˜âŠ¢)âŸœ[  
  ## This specific map is only for function arguments 
  # ? really unsure of:
  "bool"â€¿"bool"
  "void"â€¿"..."
  "void"â€¿"const char **"

  # star adds? testing needed
  "('*'âˆ¾wave)"â€¿"Wave *"
  "('*'âˆ¾image)"â€¿"Image *"
  "('*'âˆ¾model)"â€¿"Model *"
  "('*'âˆ¾mesh)"â€¿"Mesh *"
  "('*'âˆ¾modelAnimation)"â€¿"ModelAnimation *"
  "('*'âˆ¾color)"â€¿"Color *"
  "('*'âˆ¾v2)"â€¿"Vector2 *"
  "('*'âˆ¾v3)"â€¿"Vector3 *"
  "('*'âˆ¾v4)"â€¿"Vector4 *"
  "('*'âˆ¾texture)"â€¿"Texture2D *"
  "('*'âˆ¾material)"â€¿"Material *"
  "('*'âˆ¾matrix)"â€¿"const Matrix *"
  # Lowercased
  "rectangle"â€¿"Rectangle"
  "camera"â€¿"Camera"
  "camera"â€¿"Camera2D"
  "camera"â€¿"Camera3D"
  "audioCallback"â€¿"AudioCallback"
  "audioStream"â€¿"AudioStream"
  "image"â€¿ "Image"
  "wave"â€¿"Wave"
  "sound"â€¿"Sound"
  "ray"â€¿"Ray"
  "matrix"â€¿"Matrix"
  "boundingBox"â€¿"BoundingBox"
  "mesh"â€¿"Mesh"
  "model"â€¿"Model"
  "material"â€¿"Material"
  "texture2D"â€¿"Texture2D"
  "font"â€¿"Font"
  "modelAnimation"â€¿"ModelAnimation"
  "color"â€¿"Color"
  "music"â€¿"Music"
  "filePathList"â€¿"FilePathList"
  "nPatchInfo"â€¿"NPatchInfo"
  "renderTexture"â€¿"RenderTexture2D"
  "shader"â€¿"Shader"
  "vrStereoConfig"â€¿"VrStereoConfig"
  "vrDeviceInfo"â€¿"VrDeviceInfo"
  "traceLogCallback"â€¿"TraceLogCallback"
  "loadFileDataCallback"â€¿"LoadFileDataCallback"
  "saveFileDataCallback"â€¿"SaveFileDataCallback"
  "loadFileTextCallback"â€¿"LoadFileTextCallback"
  "saveFileTextCallback"â€¿"SaveFileTextCallback"
  
  # shorten struct names
  "v4"â€¿"Vector4"
  "v3"â€¿"Vector3"
  "v2"â€¿"Vector2"

  "void" â€¿"void *"
  "i"    â€¿"int"
  "u"    â€¿"unsigned int"
  "ui"   â€¿"unsigned int *"
  """f64"""â€¿"double"
  """&i32"""â€¿"int *"
  "fs"   â€¿"float *"
  "f"    â€¿"float"
  "str"  â€¿"const char *"
  "uStr" â€¿"const unsigned char *"
]
"rayffi.bqn" â€¢FChars âˆ¾ nl âˆ¾Â¨ {
 "defines"ğ•Šğ•©:
  Parse â† {âˆ¾Ë˜Â´BoxÂ¨""â€¿""â€¿" â‡ "â€¿" # "âˆ¾âŸ(âŸ¨âŸ©â‰¢âŠ¢)âš‡1âŸ¨LowerNames,âŸ¨âŸ©Ë™,â€¢Repr,âŠ¢âŸ©{ğ•ğ•©}Â¨Â¨ <Ë˜â‰ğ•©}
  exclTypes  â† "GUARD"â€¿"MACRO"â€¿"UNKNOWN"â€¿"FLOAT_MATH"â€¿"COLOR"
  Filter     â† {ğ•Šnâ€¿tâ€¿vâ€¿d: # nameâ€¿typeâ€¿valâ€¿desc
    Â¬("PI"â‰¡n) âˆ¨ (âˆ¨Â´tâŠ¸â‰¡Â¨exclTypes) âˆ¨ âŸ¨âŸ©â‰¡v
  }
  â¥Šnlâˆ¾Ë˜Parse FilterË˜âŠ¸/ 1âŠË˜Ë˜ >â‰Â¨ğ•©
;"structs"ğ•Šğ•©:
  Parse â† { # ğ•Š â‰[name,desc,fields]:
    ParseStruct â† {
      âˆ¾(@+10)âˆ¾Â¨"âŸ©"âˆ¾Ëœ<Ë˜"  "âˆ¾â‰1""â€¿" # "â€¿"  # "âŸ¨'"'âˆ¾âˆ¾âŸœ'"',âŠ¢,âŠ¢âŸ©_MetaParse >ğ•©
    }
    {
      header â† (Â»âŠ¸âˆ¨' 'âŠ¸â‰ )âŠ¸/Â¨ <Ë˜(â¥Š@+10)â€¿" â‡ âŸ¨ # "âŸ¨LowerNames,âŠ¢âŸ©_MetaParse 2â†‘Ë˜ğ•©
      body â† (âˆ¨`âŒ¾âŒ½' 'âŠ¸â‰ )âŠ¸/Â¨<Ë˜âŸ¨""âŸ©âŸ¨ParseStruct 1âŠÂ¨âŠ¢âŸ©_MetaParse Â¯1â†‘Ë˜3â†‘Ë˜ğ•©
      âˆ¾ body âˆ¾ËœÂ¨header
    }âŒ½âŒ¾(1â†“âŠ¢)Ë˜âŒ¾â‰ğ•©
  }
  Parse 1âŠË˜Ë˜>â‰Â¨ğ•©
;"aliases"ğ•Šğ•©:"" # Least priority
;"enums"ğ•Šğ•©:
  ParseNamespaceâ†{ğ•ŠâŸ¨name,description,valuesâŸ©:
    header â† (LowerNames name) âˆ¾" â‡ { # "âˆ¾ description
    body   â† ""â€¿" â‡ "â€¿"  # "âŸ¨LowerNames,â€¢Repr,âŠ¢âŸ©_MetaParse >1âŠÂ¨values
    (nlâˆ¾"}")âˆ¾Ëœheaderâˆ¾âˆ¾(nlâˆ¾"  ")âŠ¸âˆ¾Â¨<Ë˜body
  }
  âˆ¾nlâˆ¾Â¨ParseNamespaceÂ¨1âŠÂ¨ğ•©
;"callbacks"ğ•Šğ•©:"" # I don't know what callbacks do, i formatted them as functions but they are probably not.
  #â¥Šnlâˆ¾Ë˜âŸ¨""," â‡ "," _R"," # "âŸ©âŸ¨LowerNames,'"'âˆ¾Ëœ'"'âˆ¾âŠ¢,âŠ¢,âŠ¢âŸ©_MetaParse{# â‰[name, description, returnType, params]:
  #  {<Ë˜âˆ¾Ë˜Â´<âˆ˜BoxË˜â‰>{âŸ¨' 'âˆ¾ËœÂ»Â«âˆ¾âˆ¾âŸœ'"'Â¨"â€¿"""âŠ¸âˆ¾Â¨âŠ‘ğ•©, "#"âˆ¾âŸœâˆ¾' 'âˆ¾Â¨1âŠ‘ğ•©âŸ©}Â¨(<Ë˜â‰âˆ˜>)Â¨1âŠÂ¨Â¨ğ•©}âŒ¾(2âŠË˜âŠ¢) 0â€¿2â€¿3â€¿1âŠ¸âŠË˜ğ•©
  #}>1âŠÂ¨ğ•©
;"functions"ğ•Šğ•©:
  FillTitles â† {ğ•Š[titles, args]:
    all â† "name"â€¿"description"â€¿"returnType"â€¿"params"
    argsâŒ¾((/allâˆŠtitles)âŠ¸âŠ)(0â€¿2â¥Š"")âˆ¾âŸœ<Ëœ3â¥Š<""
  }

  â¥Šnlâˆ¾Ë˜âŸ¨""," â‡ "," _R"," # "âŸ©âŸ¨LowerNames,'"'âˆ¾Ëœ'"'âˆ¾âŠ¢,âŠ¢,âŠ¢âŸ©_MetaParse{# â‰[name, description, returnType, params]:
    {<Ë˜âˆ¾Ë˜Â´<âˆ˜BoxË˜â‰>{âŸ¨' 'âˆ¾Ëœ" @"âŸ(""âŠ¸â‰¡)Â»Â«âˆ¾'â€¿'âˆ¾Â¨MapTypesâŠ‘ğ•©, "#"âˆ¾âŸœâˆ¾' 'âˆ¾Â¨1âŠ‘ ğ•©âŸ©}Â¨(<Ë˜â‰âˆ˜>)Â¨1âŠÂ¨Â¨ğ•©}âŒ¾(2âŠË˜âŠ¢) 0â€¿2â€¿3â€¿1âŠ¸âŠË˜ğ•©
  }> FillTitlesÂ¨ğ•©
}Â´Â¨<Ë˜â‰json.Parse â€¢FChars "raylib.html"