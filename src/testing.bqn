# Tests are very undeveloped.
# This file may be turned into a testing directory when it gets bigger.
# Catagories are seperated by 2 newlines.

# all tests successful as of june 13. 2023

# Raymath:
âŸ¨
  MatrixRotate, Wrap, Normalize, Vector3Unproject, MatrixRotateZ, MP, _ToDim_, Approx, MatrixExtend, Round
âŸ© â† â€¢Import "raymath.bqn"


eâ†"Round"
e!100.2131â‰¡4 Round 100.21312344123


eâ†©"MatrixRotate"
e!(â€¢Repr 5 Round MatrixRotate 0 â€¿0â€¿1â‹ˆÂ¯21) â‰¡ "(3â€¿3â¥ŠÂ¯0.54773â€¿0.83666â€¿0â€¿Â¯0.83666â€¿Â¯0.54773â€¿0â€¿0â€¿0â€¿1)"
e!(â€¢Repr 5 Round MatrixRotate 0 â€¿1â€¿0â‹ˆ 45) â‰¡ "(3â€¿3â¥Š0.52532â€¿0â€¿0.8509â€¿0â€¿1â€¿0â€¿Â¯0.8509â€¿0â€¿0.52532)"
e!(â€¢Show â€¢Repr 5 Round MatrixRotate 21â€¿3â€¿4â‹ˆ 45) â‰¡ "(3â€¿3â¥Š0.97453â€¿Â¯3.33944â€¿2.63827â€¿3.46779â€¿0.53449â€¿Â¯17.85675â€¿Â¯2.46715â€¿17.8812â€¿0.54162)"

eâ†©"Wrap"
e!31 â‰¡ Wrap 210â€¿21â€¿200

eâ†©"Normalize"
e!0.5â‰¡0â€¿2 Normalize 1

eâ†©"Vector3Unproject"
mat â† [
  1â€¿2â€¿3â€¿4
  5â€¿6â€¿7â€¿8
  9â€¿1â€¿2â€¿3
  4â€¿5â€¿6â€¿9
]
mat2 â† [
  11â€¿12â€¿13â€¿14
  15â€¿16â€¿17â€¿18
  19â€¿11â€¿12â€¿13
  14â€¿15â€¿16â€¿19
]
s â† 1â€¿2â€¿3
â€¢SHow Vector3Unproject sâ€¿matâ€¿mat2
# { 0.495726, -23.222216, 20.034185 }

eâ†©"MatrixRotateZ"
xâ†[
  1â€¿0â€¿0â€¿2
  0â€¿1â€¿0â€¿2
  0â€¿0â€¿1â€¿2
  0â€¿0â€¿0â€¿1
]

y â† MatrixRotateZ Ï€
c â† x MP _ToDim_ 4 y
â€¢SHow Approx c


â€¢Show 3 MatrixExtend 2â€¿2â¥Šâ†•4


# raylib.bqn

âŸ¨âŸ¨_FromCenterâŸ©â‡utilsâŸ©â†â€¢Import "../raylib.bqn"
eâ†©"_FromCenter"
e!(â€¢Repr 5 Round 2âŠ¸Ã—_FromCenter[10â€¿15â‹„15â€¿20â‹„20â€¿25]) â‰¡ "(3â€¿2â¥Š7.5â€¿17.5â€¿12.5â€¿22.5â€¿17.5â€¿27.5)"
e!(â€¢Repr 5 Round 2âŠ¸Ã—_FromCenter[10â€¿15â€¿15â‹„15â€¿20â€¿20]) â‰¡ "(2â€¿3â¥Š6.66667â€¿16.66667â€¿16.66667â€¿11.66667â€¿21.66667â€¿21.66667)"





# testing (moved later to testing.bqn)
#â€¢Show 1â€¿2â€¿3 Vector3OrthoNormalize 4â€¿5â€¿6

#â€¢Show (-5+â†•4) QuaternionEquals 5+â†•4
#â€¢Show (-4+â†•4) QuaternionEquals 5+â†•4

# raylib additions
# in MatrixOrtho please put x+b in the same order as x-b
# QuaternionToAxisAngle use epsilon
# reorder MatrixRotateXYZ's z y x to x y z at the top
# in quaternioninvert it seems the first index shouldn't be negated
# useless fabsf in QuaternionSlerp

# 1âŠ¸-âŒ¾(Ã—Ëœ) â†’ (Sin Cosâ¼)
# -âŸœ1âŒ¾(Ã—Ëœ) â†’ (Cos Sinâ¼)
#Sinâ€¿Cosâ†â€¢math
#â€¢Show (Cos Sinâ¼)âŸ â€¢Show â€¢math.Cos 1
#â€¢Show â€¢math.Sin 2
#â€¢Show 1âŠ¸-âŒ¾(Ã—Ëœ)
#Sin Cosâ¼

# cosâ€¿sinâ†â€¢math
# â€¢Show Vector3RotateByAxisAngle âŸ¨â†•3, 0â€¿1â€¿0, 1âŸ©
# # âŸ¨ 1.682941969615793 1 1.0806046117362795 âŸ©

#â€¢Show 0.2â€¿0.5 (Vector2Angle=â—‹â€¢Show Vector3Angle) 0.2â€¿0.5

#â€¢Show +Â´âŒ¾(Ã—Ëœ)â€¢Show VectorClampValue âŸ¨2â€¿2â€¿2â€¿2,10,22âŸ©
#â€¢Show +Â´âŒ¾(Ã—Ëœ)â€¢Show VectorClampValue âŸ¨2â€¿2â€¿2â€¿2,30,42âŸ©
#â€¢Show +Â´âŒ¾(Ã—Ëœ)â€¢Show VectorClampValue âŸ¨2â€¿2â€¿2â€¿2,0.5,1.5âŸ©

#mat â† (MatrixRotateZ Ï€)MP MatrixTranslate 2â€¿2â€¿2
#â€¢Show matâŠ¸MPâŒ¾(âˆ¾âŸœ1)1â€¿2â€¿3

#â€¢Show mat MP 1â€¿2â€¿3â€¿1
#Fâ†{
#  aâ€¿bâ†(<Â·âŒˆÂ´â‰¢Â¨Â«Â¨Â·<1â¥ŠËœÂ·âŒˆÂ´=Â¨)âŠ¸(â†‘Â¨)ğ•©â€¿ğ•¨
#  dâ†-|ğ•©-â—‹â‰ ğ•¨
#  MPÂ´1Â¨âŒ¾(0â€¿0â‰(dâ¥ŠËœ=ğ•©)âŠ¸â†‘)Â¨aâ€¿b
#}
#â€¢Show (2â€¿2â¥Š1)F 3â€¿3â¥Š1
## â”Œâ”€       
## â•µ 2 2 1  
##   2 2 1  
##   2 2 1  
##         â”˜


#â€¢Show 2+1â€¿2â€¿3


#â€¢ShowÂ¨ Approx MatrixRotateXÂ¨ (Ï€Ã·2)Ã—â†•4
#â€¢Out 3â¥Š"
#"
#â€¢ShowÂ¨ Approx MatrixRotateYÂ¨ (Ï€Ã·2)Ã—â†•4
#â€¢Out 3â¥Š"
#"
#â€¢ShowÂ¨ Approx MatrixRotateZÂ¨ (Ï€Ã·2)Ã—â†•4
#
#â€¢Show =âŒœËœâ†•2
#â€¢Show Â¯1â€¿1Ã—âŒ½=âŒœËœâ†•2
#aâ†Ï€Ã·2
#matâ†â€¢SHow aÃ—Â¯1â€¿1Ã—âŒ½=âŒœËœâ†•2
#â€¢Show Approx +Â´{ğ•Š:(â€¢math.Factğ•©)Ã·ËœMPâŸ(ğ•©-1)Ëœmat}Â¨â†•200
#â€¢Show Approx [âŸ¨Cos a,-Sin aâŸ©,âŸ¨Sin a, Cos aâŸ©]



#â€¢Show =Â´Approx âŸ¨
#  1â€¿2 VectorAngle 3â€¿4
#  deg2rad Ã— 10.304
#âŸ©
#â€¢Out""
#â€¢Show =Â´Approx âŸ¨
#  1â€¿2â€¿3 VectorAngle 2â€¿3â€¿4
#  deg2rad Ã— 6.98
#âŸ©
#â€¢Show =Â´Approx âŸ¨
#  1â€¿2â€¿3 Vector3Angle 2â€¿3â€¿4
#  deg2rad Ã— 6.98
#âŸ©
#â€¢Out""
#â€¢Show =Â´Approx âŸ¨
#  1â€¿2â€¿3â€¿4 VectorAngle 5â€¿6â€¿7â€¿8
#  deg2rad Ã— 14.3352
#âŸ©



