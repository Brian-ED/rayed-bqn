âŸ¨âŸ¨RealPath â‹„ Exists â‹„ AtâŸ©âŸ© â† {ğ•Š:â‹ˆâŸ¨".."âŸ©â€¢BQN"â€¢file"}âŸ(0=â‰ ) â€¢args
lf â† @+10
raylibLibPath â† {
  raylibName â† {
    "windows": "raylib.dll" ;
    "linux": "libraylib.so";
    "darwin":"libraylib.dylib"
  }â€¢platform.os
  validPaths â† ExistsÂ¨âŠ¸/ AtâŸœraylibNameÂ¨ {
    "windows": "lib"â€¿"C:\raylib\raylib\lib"  # C:\raylib is default installation location for the raylib-provided-installer
    ;"linux" : "lib"â€¿"/usr/local/lib"
    ;"darwin":
      eâ€¿stdoutâ€¿Â·â†â€¢SHâŠ1â€¿âŸ¨âŸ©â€¿@ "brew"â€¿"--prefix"â€¿"raylib"
      brewPath â† âŸ¨(@+10)âŠ¸â‰ âŠ¸/stdoutâŸ©âŸ(0â‰¢e)âŸ¨âŸ©
      "lib"â€¿"/usr/local/lib"âˆ¾brewPath
    ;!âˆ¾lfâˆ¾Â¨âŸ¨
      "Unknown OS, unable to find path to raylib binary automatically."
      "Try providing binary as argument (âŸ¨""raylib.so""âŸ©â€¢Import""rayed.bqn"")"
    âŸ©
  }â€¢platform.os
  {ğ•Š:
    !âˆ¾lfâˆ¾Â¨âŸ¨
      "Path to raylib binary not found at install location."
      ""
      "  To install raylib, run the install-raylib script:"
      "    bqn "âˆ¾â€¢file.RealPath "../install-raylib.bqn"
      ""
      "  Already installed raylib? Tell rayed.bqn where to find it"
      "    âŸ¨""path/to/"âˆ¾raylibNameâˆ¾"""âŸ©â€¢Import""rayed.bqn"")"
      ""
    âŸ©
  }âŸ(0=â‰ )validPaths
  "File expected at "!Exists âŠ‘validPaths
  RealPath âŠ‘validPaths
}

{ğ•Š:
  âŸ¨raylibLibPathâŸ© â€¢Import "../imports/raylib-bqn/raylib.bqn"
}âŠ{ğ•Š:
  !â€¢CurrentErrorâŠ¸âˆ¾ âˆ¾lfâˆ¾Â¨âŸ¨
    "Likely incorrect raylib version."
    "Run the following script to install the correct version."
    "Requires an internet connection."
    "Output goes in ./rayed-bqn/lib/"
    ""
    "  bqn """âˆ¾""""âˆ¾Ëœâ€¢file.RealPath "../install-raylib.bqn"
    ""
  âŸ©
}@
