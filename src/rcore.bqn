âŸ¨
  GetCameraMatrix2D
âŸ©â‡
âŸ¨MPâŸ© â† rm â† â€¢Import "raymath.bqn"

# Get camera 2d transform matrix
GetCameraMatrix2D â† {ğ•Šcamera: # camera2d
  # The camera in world-space is set by
  #   1. Move it to target
  #   2. Rotate by -rotation and scale by (1/zoom)
  #      When setting higher scale, it's more intuitive for the world to become bigger (= camera become smaller),
  #      not for the camera getting bigger, hence the invert. Same deal with rotation.
  #   3. Move it by (-offset);
  #      Offset defines target transform relative to screen, but since we're effectively "moving" screen (camera)
  #      we need to do it into opposite direction (inverse transform)
    
  # Having camera transform in world-space, inverse of it gives the modelview transform.
  # Since (A*B*C)' = C'*B'*A', the modelview is
  #   1. Move to offset
  #   2. Rotate and Scale
  #   3. Move by -target
  origin      â† rm.MatrixTranslate-(1âŠ‘camera)âˆ¾0
  rotation    â† rm.MatrixRotate 0â€¿0â€¿1â‹ˆ Ï€Ã·180Ã—2âŠ‘camera
  scale       â† rm.MatrixScale 1âˆ¾Ëœ2â¥Š3âŠ‘camera
  translation â† rm.MatrixTranslate 0âˆ¾ËœâŠ‘camera
  matTransform â† originâ€¿scaleâ€¿rotation MPÂ´âŠ¸MP translation
}
