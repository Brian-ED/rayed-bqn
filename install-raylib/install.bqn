âŸ¨Realpathâ‹„Atâ‹„Existsâ‹„CreateDirâ‹„Removeâ‹„Listâ‹„Bytesâ‹„pathâŸ© â† â€¢file
âŸ¨osâŸ©â†â€¢platform
version â† "5.0"
binariesPath â† "../lib"

âŸ¨               ext     â‹„ libFile         â‹„ raylibFolder
âŸ©â†{"darwin":  âŸ¨".tar.gz"â‹„"libraylib.dylib"â‹„"raylib-"âˆ¾versionâˆ¾"_macos"       âŸ©
;  "linux":   âŸ¨".tar.gz"â‹„"libraylib.so"   â‹„"raylib-"âˆ¾versionâˆ¾"_linux_amd64" âŸ©
;  "windows": âŸ¨".zip"   â‹„"raylib.dll"     â‹„"raylib-"âˆ¾versionâˆ¾"_win64_msvc16"âŸ©
} os

# Expected library to not exist
{ğ•Š:
  !"raylib already installed. Delete it to re-install. (rm "âˆ¾')'âˆ¾ËœRealpath ğ•©
}âŸExists binariesPath At libFile

# ---------------
# download raylib
# ---------------

{"windows"â‰¡os?
  â€¢SH â‹ˆ RealPath "windows.ps1"
;
  unarchive â† {
    ".tar.gz": {"tar"â€¿"-xzf"â€¿ğ•©â€¿"-C"â€¿path}
  ; ".zip": {"unzip"â€¿"-d"â€¿pathâ€¿ğ•©}
  } ext
  Exec â† {eâ€¿Â·â€¿o:o!0â‰¡e}â€¢SH
  Exec âŸ¨"wget" â‹„ "-O" â‹„ At"temp"âˆ¾ext
    "https://www.github.com/raysan5/raylib/releases/download/"âˆ¾versionâˆ¾"/"âˆ¾raylibFolderâˆ¾ext
  âŸ©
  Exec Unarchive Realpath"temp"âˆ¾ext
}
Remove Realpath"temp"âˆ¾ext

# ---------------------
# move binary to binariesPath
# ---------------------
CreateDirâŸ(Â¬Exists) binariesPath
(binariesPath At libFile) Bytes Bytes Realpath raylibFolder At "lib" At libFile

# -----------------
# clean away raylib
# -----------------

(raylibFolder At "a") â€¢FChars "helloo.txt"

filesToBeDeleted â† raylibFolderâŠ¸AtÂ¨ âˆ¾"lib"â€¿"include"â€¿"" Atâš‡1 âŸ¨
  â€¢file.List raylibFolder At"lib"
  "raylib.h"â€¿"raymath.h"â€¿"rlgl.h"
  "CHANGELOG"â€¿"LICENSE"â€¿"README.md"â€¿"a"
âŸ©
{ğ•Š:!"Unexpected files in "âˆ¾raylibFolderâˆ¾", "âˆ¾â€¢Repr filesToBeDeleted
}âŸ(0â‰ â‰ )Â¬âˆ˜ExistsÂ¨âŠ¸/filesToBeDeleted
RemoveÂ¨filesToBeDeleted
cleaupErrorMsg â† "Cleanup unsuccessful. Please delete "âˆ¾raylibFolderâˆ¾" manually "
{cleaupErrorMsg!0â€¿âŸ¨âŸ©â€¿âŸ¨âŸ©â‰¡â€¢SH"rmdir"â‹ˆRealpath raylibFolder Atğ•©}Â¨"lib"â€¿"include"â€¿""
#â€¢file.Remove Realpath raylibFolder
