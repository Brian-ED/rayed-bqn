âŸ¨câ‡color,wâ‡window,dâ‡draw,mâ‡mouseâŸ©â†râ†â€¢Import "../../raylib.bqn"
MovePtr8 â† {bâ†256â‹†â†•8 â‹„ -âŸœ(256Ã—â‰¥âŸœ128) 256|âŒŠÃ·âŸœb ğ•¨+Â´bÃ—256|ğ•©}
âŸ¨voidâŸ© â† r.rayffi
read â† @â€¢FFI""â€¿"bqn_readI32Arr"â€¿">a"â€¿("ğ•¨>"âˆ¾void)     # write to ptr
make â† @â€¢FFI"a"â€¿"bqn_makeI32Vec"â€¿"ğ•¨>u64"â€¿(">"âˆ¾void)  # materialize
malloc â† @â€¢FFI voidâ€¿"malloc"â€¿">u64"                   # alocate u64

_OnStart â† {ğ•©
  texâ€¿imgâ†"logo.png"âŠ¸{ğ•ğ•¨}Â¨âŸ¨r.texture.Load, r.image.LoadâŸ©
  test â† Malloc 8
  test Read 8â¥Š0
  testâ€¿texâ€¿imgğ”½0
}

PerFrame â† {testâ€¿texâ€¿imgğ•Šğ•©:
  20â€¿20 c.white d._Text_ 30Ëœâ€¢Reprâˆ˜w.fps.GetâŠ¸âˆ¾" FPS"

  r.rayffi.UpdateTexture texâ‹ˆtest
  
  c.white d._Texture_ texâŸœm.GetPosÂ¨0.2â‹ˆÂ¨ğ•©+90Ã—â†•4
  90|m.WheelMovedâŠ¸+ğ•©
} d._withCanvas_ c.black

Game â† PerFrame _OnStartâ€¢_While_(Â¬w.ShouldClose)
Game w._openAs "test"
