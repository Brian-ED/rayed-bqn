# Credit to coolpeanut (discord username)
# they are the original creator of this example

âŸ¨câ‡color,window,dâ‡draw,mâ‡mouseâŸ©â†râ†â€¢Import "../../rayed.bqn"

frame â† 0

colors â† Â¯128+256|128+[
 c.moccasin, c.navy, c.oldlace, c.olivedrab, c.orange
]

scale â† 2
step â† 0.2Ã·5

Start â† {ğ•Štex:
    font â† r.font.LoadBQN 100

    size â† âŒ½âŒˆwindow.GetSizeâŠ¸Ã·scale
    pixels â† +ËâŒ¾(Ã—Ëœ)size+Ëœâ¼âŠ¸-â‰â¼>â†•size

    PerFrame â† {ğ•Štex:
        r.raylib.UpdateTextureRaw âŸ¨tex
            colors(â‰ âŠ¸|âŠâŠ£)âŒŠ(colorsâ‰ âŠ¸Ã·âŒˆÂ´size)Ã—frame-pixelsÃ—1+5Ã·Ëœâ€¢math.Sin frameÃ—step
        âŸ©
        c.whiteâ€¿texâ€¿scaleâ€¿0 d.Texture 0â€¿0
        c.whiteâ€¿fontâ€¿30 d.Text 20â€¿20â‹ˆâ€¢Reprâˆ˜window.GetFPSâŠ¸âˆ¾" FPS"
        frame+â†©1
    }âŠ¸âŠ¢d._withCanvasâŸœc.black

    App â† PerFrame â€¢_While_(Â¬window.ShouldClose)
    App r.texture._WithImage (sizeâˆ¾4)â¥Š255
}

Start window._openAs "test"
