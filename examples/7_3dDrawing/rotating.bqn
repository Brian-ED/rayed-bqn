# The MoveCamera function is what rotates the camera

âŸ¨color, window, draw, raylib, kâ‡keyâŸ©â†râ†â€¢Import "../../rayed.bqn"
âŸ¨IsPressedâŸ©â†k
_setup â† {ğ•¨ğ”½_ğ•£ğ•©:
  meshes â† raylib.LoadModelFromMeshÂ¨ âŸ¨
    raylib.GenMeshPlane 10â€¿10â€¿3â€¿3
    raylib.GenMeshCube 2â€¿4â€¿2
  âŸ©
  font â† r.font.LoadBQN 50
  lights â† âŸ¨
    Â¯2â€¿1â€¿Â¯2â‹ˆcolor.yellow
     2â€¿1â€¿ 2â‹ˆcolor.red
    Â¯2â€¿1â€¿ 2â‹ˆcolor.green
     2â€¿1â€¿Â¯2â‹ˆcolor.blue
  âŸ©
  lightToggle â† 4â¥Š1
          #  pos    target  up     FOV Yaxis  Camera projection type
  camera â† âŸ¨ 4â€¿4â€¿0, 0â€¿0â€¿0,  0â€¿1â€¿0, 45,        0âŸ©
  meshesâ€¿lightsâ€¿font ğ”½ lightToggleâ€¿camera
  raylib.UnloadModelÂ¨meshes
}

rotMat â† r.raymath.MatrixRotateZ Ï€Ã·80
MoveCamera â† {
  n â† -Â´IsPressedâŸ¨k.q, k.up, k.eâŸ©â€¿âŸ¨k.left, k.down, k.rightâŸ©
  rotMat r.raymath.MP ğ•©+n
}âŒ¾âŠ‘

PerFrame â† {meshesâ€¿lightsâ€¿fontğ•ŠlightToggleâ€¿camera:
  outâ†âŸ¨
    lightToggleâ‰ IsPressedâŸ¨k.y, k.r, k.g, k.bâŸ©
    MoveCamera camera
  âŸ©
  {ğ•¤
    {ğ•¤
      (raylib.DrawModelâŸ¨0â€¿0â€¿0, 1, color.whiteâŸ©âˆ¾Ëœ<)Â¨meshes
      raylib.DrawGrid 10â€¿1
      lightToggleâŠ£â—¶âŸ¨
        raylib.DrawSphereWires âŒˆâˆ˜Ã—âŸœ1â€¿1â€¿1â€¿0.3âŒ¾(Â¯1âŠ¸âŠ‘)âˆ˜âŠ¢
        raylib.DrawSphereExâŠ¢
      âŸ©Â¨(Â¯1âŒ½0.2â€¿8â€¿8âˆ¾âŒ½)Â¨lights
    } draw._in3D camera
    raylib.DrawFPS 10â€¿10
    color.darkGrayâ€¿fontâ€¿20 draw.Text 10â€¿40â‹ˆ"Use keys [Y][R][G][B] to toggle lights"
    
  } draw._withCanvas_ color.black @
  out
}

Game â† PerFrameâ€¢_While_(Â¬window.ShouldClose) _setup
Game window._openAs "raylib [shaders] example - basic lighting"


